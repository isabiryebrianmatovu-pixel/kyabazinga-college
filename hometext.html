<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kyabazinga College – Edit Home Texts</title>
<style>
body{margin:0;padding:0;font-family:"Times New Roman", serif;background:white;}
header{background:#d40000;color:white;text-align:center;padding:20px;}
header h1{margin:0;}
.container{width:90%;margin:auto;padding-top:20px;}
.section{padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);background:white;}
.section h2{color:#d40000;margin-bottom:10px;}
textarea, input[type="text"]{width:100%;padding:8px;margin:5px 0;border-radius:5px;border:1px solid #ccc;}
.admin-btn{padding:10px 20px;margin-top:10px;background:#d40000;color:white;border:none;border-radius:6px;cursor:pointer;font-weight:bold;}
.admin-btn:hover{background:#a00000;}
ul{padding-left:20px;}
ul li{margin-bottom:5px;}
ul li button{padding:2px 6px;background:#d40000;color:white;border:none;border-radius:4px;cursor:pointer;}
ul li button:hover{background:#a00000;}
</style>
</head>
<body>

<header>
<h1>Edit Home Page Texts</h1>
<p>All changes are automatically saved and appear on the Home Page.</p>
</header>

<div class="container">
    
    <nav class="button-nav">
        <a href="administrator.html" class="nav-btn">BACK</a>
    </nav>

    <!-- HEAD TEACHER MESSAGE -->
    <div class="section">
        <h2>Head Teacher’s Message</h2>
        <textarea id="htMessageInput" rows="4" placeholder="Enter Head Teacher’s Message"></textarea>
        <button class="admin-btn" onclick="saveText('htMessageInput','htMessage')">Save</button>
    </div>

    <!-- VISION -->
    <div class="section">
        <h2>Vision</h2>
        <textarea id="visionTextInput" rows="3" placeholder="Enter Vision"></textarea>
        <button class="admin-btn" onclick="saveText('visionTextInput','visionText')">Save</button>
    </div>

    <!-- MISSION -->
    <div class="section">
        <h2>Mission</h2>
        <textarea id="missionTextInput" rows="3" placeholder="Enter Mission"></textarea>
        <button class="admin-btn" onclick="saveText('missionTextInput','missionText')">Save</button>
    </div>

    <!-- VALUES -->
    <div class="section">
        <h2>Core Values</h2>
        <textarea id="valuesTextInput" rows="3" placeholder="Enter Core Values, separated by commas"></textarea>
        <button class="admin-btn" onclick="saveText('valuesTextInput','valuesText')">Save</button>
    </div>

    <!-- ANNOUNCEMENTS -->
    <div class="section">
        <h2>Announcements</h2>
        <textarea id="announcementsTextInput" rows="4" placeholder="Enter Announcements"></textarea>
        <button class="admin-btn" onclick="saveText('announcementsTextInput','announcementsText')">Save</button>
    </div>

    <!-- TRENDING AT CAMPUS -->
    <div class="section">
        <h2>Trending at Campus</h2>
        <textarea id="trendingTextInput" rows="3" placeholder="Enter Trending Info"></textarea>
        <button class="admin-btn" onclick="saveText('trendingTextInput','trendingText')">Save</button>
    </div>

    <!-- QUICK LINKS MANAGEMENT -->
    <div class="section">
        <h2>Quick Links</h2>
        <input type="text" id="quickLinkName" placeholder="Enter Link Name">
        <input type="text" id="quickLinkURL" placeholder="Enter Link URL">
        <button class="admin-btn" onclick="addQuickLink()">Add Quick Link</button>
        <ul id="quickLinksList"></ul>
    </div>

</div>

<script>
/* ---------- TEXT FUNCTIONS ---------- */
function loadText(inputId, storageKey){
    const saved = localStorage.getItem(storageKey);
    if(saved) document.getElementById(inputId).value = saved;
}

function saveText(inputId, storageKey){
    const val = document.getElementById(inputId).value;
    localStorage.setItem(storageKey,val);
    alert("Saved!");
}

/* Load all texts */
loadText('htMessageInput','htMessage');
loadText('visionTextInput','visionText');
loadText('missionTextInput','missionText');
loadText('valuesTextInput','valuesText');
loadText('announcementsTextInput','announcementsText');
loadText('trendingTextInput','trendingText');

/* ---------- QUICK LINKS FUNCTIONS ---------- */
let quickLinks = JSON.parse(localStorage.getItem("quickLinks") || "[]");

function renderQuickLinks() {
    const list = document.getElementById("quickLinksList");
    list.innerHTML = "";
    quickLinks.forEach((link, index) => {
        const li = document.createElement("li");
        li.innerHTML = `<a href="${link.url}" target="_blank">${link.name}</a>
                        <button onclick="removeQuickLink(${index})">Remove</button>`;
        list.appendChild(li);
    });
}

function addQuickLink() {
    const name = document.getElementById("quickLinkName").value.trim();
    const url = document.getElementById("quickLinkURL").value.trim();
    if(!name || !url) { alert("Both name and URL are required!"); return; }
    
    quickLinks.push({name, url});
    localStorage.setItem("quickLinks", JSON.stringify(quickLinks));
    document.getElementById("quickLinkName").value = "";
    document.getElementById("quickLinkURL").value = "";
    renderQuickLinks();
}

function removeQuickLink(index) {
    if(confirm("Are you sure you want to remove this quick link?")) {
        quickLinks.splice(index, 1);
        localStorage.setItem("quickLinks", JSON.stringify(quickLinks));
        renderQuickLinks();
    }
}

// Initialize Quick Links list on page load
renderQuickLinks();
</script>

</body>
</html>